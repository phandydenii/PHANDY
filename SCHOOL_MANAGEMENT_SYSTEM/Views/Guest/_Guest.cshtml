
<div class="modal fade " data-backdrop="static" data-keyboard="false" id="GuestModal" tabindex="-1" role="dialog" aria-labelledby="GuestModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div id="divLoadingModal"></div>
        <div class="modal-content">
            <div class="modal-header clearfix">
                <button type="button" onclick="function close(){window.location.reload(true)};close()" class="btn btn-danger btn-xs pull-right" ><span class="glyphicon glyphicon-remove"></span></button>
                <h4 class="modal-title text-center" style="color: darkblue;"><b >@Resources.Content.UpdateGuest</b></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <input id="guestid" name="guestid" type="text" style="display: none;" value="" class="form-control" />
                    <input id="status" name="status" type="text" style="display: none;" value="" class="form-control" />
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="namekh">@Resources.Content.NameKh</label>
                                    <input id="namekh" name="namekh" placeholder="Enter Guest Name Khmer" type="text" value="" class="form-control input-sm" style="min-width: 100%" />
                                </div>
                                <div class="form-group">
                                    <label for="name">@Resources.Content.Name</label>
                                    <input id="name" name="name" placeholder="Enter Guest Name" type="text" value="" class="form-control input-sm" style="min-width: 100%" />
                                </div>

                                <div class="form-group">
                                    <label for="gsex">@Resources.Content.Sex</label>
                                    <select class="form-control input-sm" id="sex">
                                        <option value="Male">@Resources.Content.Man</option>
                                        <option value="Female">@Resources.Content.Woman</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="dob">@Resources.Content.DOB</label>
                                    <input id="dob" name="dob" type="date" value="@DateTime.Now.ToString("yyyy'-'MM'-'dd")" class="form-control input-sm" placeholder="Choose Datetime" />
                                </div>
                                <div class="form-group">
                                    <label for="address">@Resources.Content.Address</label>
                                    <input id="address" name="address" placeholder="Enter Address" type="text" value="" class="form-control input-sm" style="min-width: 100%" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="national">@Resources.Content.Nationality</label>
                                    <input id="national" name="national" placeholder="Enter Nationality" type="text" value="" class="form-control input-sm" style="min-width: 100%" />
                                </div>
                                <div class="form-group">
                                    <label for="phone">@Resources.Content.Phone</label>
                                    <input id="phone" name="phone" placeholder="Enter Phone" type="text" value="" class="form-control input-sm" style="min-width: 100%" />
                                </div>
                                <div class="form-group">
                                    <label for="email">@Resources.Content.Email</label>
                                    <input id="email" name="email" placeholder="Enter Email" type="email" value="" class="form-control input-sm" style="min-width: 100%" />
                                </div>
                                <div class="form-group">
                                    <label for="ssn">@Resources.Content.SSN</label>
                                    <input id="ssn" name="ssn" placeholder="Enter Social Security Number" type="text" value="" class="form-control input-sm" style="min-width: 100%" />
                                </div>
                                <div class="form-group">
                                    <label for="passport">@Resources.Content.Passport</label>
                                    <input id="passport" name="passport" placeholder="Enter Passport Number" type="text" value="" class="form-control input-sm" style="min-width: 100%" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="btnCheckOut" onclick="function close(){window.location.reload(true)};close()" class="btn btn-danger btn-sm pull-right" style="margin-left:5px;width:100px"><span class="glyphicon glyphicon-remove"></span> @Resources.Content.Close</button>
                <button type="button" id="btnSaveGuest" onclick="UpdateGuest()" class="btn btn-success btn-sm pull-right" style="margin-left:5px;width:100px"><span class="glyphicon glyphicon-refresh"></span> @Resources.Content.Update</button>
            </div>
        </div>
    </div>
</div>
<script>
    function UpdateGuest() {
        var data = {
            id: $('#guestid').val(),
            name: $('#name').val(),
            namekh: $('#namekh').val(),
            sex: $('#sex').val(),
            dob: $('#dob').val(),
            address: $('#address').val(),
            nationality: $('#national').val(),
            phone: $('#phone').val(),
            email: $('#email').val(),
            ssn: $('#ssn').val(),
            passport: $('#passport').val(),
            status: $('#status').val(),
        };
        $.ajax({
            url: "/api/Guests/" + data.id,
            data: JSON.stringify(data),
            type: "PUT",
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (result) {
                toastr.success("Updated successfully.", "Server Response");
                window.location.reload(true);
            },
            error: function (errormessage) {
                toastr.error("Update Guest faild.", "Server Response");
            }
        });
    }
</script>